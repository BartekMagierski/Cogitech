{% extends 'base.html.twig' %}

{% block stylesheets %}

    <link rel="stylesheet" href="/assets/css/postList.css">

{% endblock %}

{% block javascripts %}

  <script type="text/javascript" src="/assets/js/autoClosePopup.js"></script>
  <script type="text/javascript" src="/assets/js/postsList.js" defer></script>

{% endblock %}


{% block body %}

<div class="bg-dark" style="width:100%;height:100vh;">

  <div class="container main-wrapper">

    <!-- Table -->
    <div class="tablewrapper row-10 p-4 bg-light rounded">
     <div class="col">
        <table class="table table-striped table-bordered table-sm">
          <caption><h1>List of Posts</h1></caption>
          <thead class="">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Creator</th>
              <th scope="col">Title</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody id="rowsBody">
          {% set i = 0 %}
          {% for row in rows %}
          <tr el_row="{{i}}">
            <th scope="rowID">{{row.id}}</th>
            <td class="creator px-4"><p>{{row.creator}}</p></td>
            <td class="titleRow px-4" ><p>{{row.title}}</p></td>
            <td>
              <button class="btn btn-sm btn-danger" table_row="{{i}}" db_row="{{row.id}}">Remove</button>
            </td>
          </tr>
          {% set i = i + 1 %}
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>

    <!-- Pagination -->
    <div class="row-10 mt-4">
      <div class="col">
        <nav aria-label="Posts navigation">
          <ul id="pagination" class="pagination">
            {% set i = 1 %}
            {% for user in rows|slice(0, 10) %}
            <li indexlabel="{{i-1}}"class="page-item"><a index="{{i-1}}" class="page-link" href="#">{{i}}</a></li>
            {% set i = i + 1 %}
            {% endfor %}
          </ul>
        </nav>
      <div>
    </div>

    <!-- Modal info -->
    <div id="infoBox" class="position-fixed top-0 end-0 m-2"></div>

  </div>
</div>
  

{% endblock %}
